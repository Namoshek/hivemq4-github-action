name: 'HiveMQ 4 MQTT Broker in GitHub Actions'
description: 'Start a HiveMQ 4 message broker (on default port 1883 & 8000 for WebSockets)'

branding:
  icon: 'message-square'
  color: 'red'

inputs:
  version:
    description: 'HiveMQ 4 version to use'
    required: false
    default: 'latest'
  port:
    description: 'Default port (TCP without SSL)'
    required: false
    default: '1883'
  port-websockets:
    description: 'Port for WebSockets (without SSL)'
    required: false
    default: '8000'

runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.version }}
    - ${{ inputs.port }}
    - ${{ inputs.port-websockets }}
